def make_ext(modname, pyxfilename):
    from distutils.core import Extension
    import numpy
    from Cython.Build import cythonize
    import os
    import sys
    import Cython.Compiler.Options
    Cython.Compiler.Options.annotate = True
    return Extension(name='dev', sources=["dev.pyx", "pyrost/include/pocket_fft.c",
                                          "pyrost/include/fft_functions.c", "pyrost/include/fastsum.c",
                                          "pyrost/include/array.c", "pyrost/include/median.c",
                                          "pyrost/include/pyrost.c", "pyrost/include/routines.c"],
                     language="c",
                     extra_compile_args=['-fopenmp', '-std=c99'],
                     libraries=['gsl', 'fftw3', 'fftw3_omp', 'gomp', 'nfft3'],
                     library_dirs=[os.path.join(sys.prefix, 'lib'),
                                   '/usr/local/lib'],
                     include_dirs=[numpy.get_include(),
                                   os.path.join(sys.prefix, 'include'),
                                   os.path.join(os.path.dirname(__file__),
                                   'pyrost/include')])