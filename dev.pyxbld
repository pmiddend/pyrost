def make_ext(modname, pyxfilename):
    from distutils.core import Extension
    import numpy
    from Cython.Build import cythonize
    import os
    import sys
    return Extension(name='dev', sources=["dev.pyx"], language="c",
                     extra_compile_args=['-fopenmp', '-std=c99'],
                     extra_link_args=['-lgomp'],
                     libraries=['gsl', 'gslcblas'],
                     library_dirs=[os.path.join(sys.prefix, 'lib'),
                                   '/usr/local/lib'],
                     include_dirs=[numpy.get_include(),
                                   os.path.join(sys.prefix, 'include')],
                     define_macros=[("NPY_NO_DEPRECATED_API", "NPY_1_7_API_VERSION")])
